{"version":3,"sources":["react-dom-unstable-fizz.node.development.js"],"names":["scheduleWork","callback","setImmediate","flushBuffered","destination","flush","beginWriting","cork","writeChunk","buffer","write","completeWriting","uncork","close","end","convertStringToBuffer","content","Buffer","from","formatChunk","type","props","str","children","hasSymbol","Symbol","for","REACT_ELEMENT_TYPE","createRequest","completedChunks","flowing","performWork","request","element","$$typeof","push","flushCompletedChunks","chunks","i","length","chunk","startWork","startFlowing","desiredBytes","createDrainHandler","ReactDOMFizzServerNode","pipeToNodeWritable","on","ReactDOMFizzServerNode$1","Object","freeze","default","ReactDOMFizzServerNode$2","unstableFizz_node","module","exports"],"mappings":"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","file":"react-dom-unstable-fizz.node.development.js","sourcesContent":["/** @license React v16.8.6\n * react-dom-unstable-fizz.node.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nfunction scheduleWork(callback) {\n  setImmediate(callback);\n}\n\nfunction flushBuffered(destination) {\n  // If we don't have any more data to send right now.\n  // Flush whatever is in the buffer to the wire.\n  if (typeof destination.flush === 'function') {\n    // By convention the Zlib streams provide a flush function for this purpose.\n    destination.flush();\n  }\n}\n\nfunction beginWriting(destination) {\n  destination.cork();\n}\n\nfunction writeChunk(destination, buffer) {\n  var nodeBuffer = buffer; // close enough\n  destination.write(nodeBuffer);\n}\n\nfunction completeWriting(destination) {\n  destination.uncork();\n}\n\nfunction close(destination) {\n  destination.end();\n}\n\nfunction convertStringToBuffer(content) {\n  return Buffer.from(content, 'utf8');\n}\n\nfunction formatChunk(type, props) {\n  var str = '<' + type + '>';\n  if (typeof props.children === 'string') {\n    str += props.children;\n  }\n  str += '</' + type + '>';\n  return convertStringToBuffer(str);\n}\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction createRequest(children, destination) {\n  return { destination: destination, children: children, completedChunks: [], flowing: false };\n}\n\nfunction performWork(request) {\n  var element = request.children;\n  request.children = null;\n  if (element && element.$$typeof !== REACT_ELEMENT_TYPE) {\n    return;\n  }\n  var type = element.type;\n  var props = element.props;\n  if (typeof type !== 'string') {\n    return;\n  }\n  request.completedChunks.push(formatChunk(type, props));\n  if (request.flowing) {\n    flushCompletedChunks(request);\n  }\n\n  flushBuffered(request.destination);\n}\n\nfunction flushCompletedChunks(request) {\n  var destination = request.destination;\n  var chunks = request.completedChunks;\n  request.completedChunks = [];\n\n  beginWriting(destination);\n  try {\n    for (var i = 0; i < chunks.length; i++) {\n      var chunk = chunks[i];\n      writeChunk(destination, chunk);\n    }\n  } finally {\n    completeWriting(destination);\n  }\n  close(destination);\n}\n\nfunction startWork(request) {\n  request.flowing = true;\n  scheduleWork(function () {\n    return performWork(request);\n  });\n}\n\nfunction startFlowing(request, desiredBytes) {\n  request.flowing = false;\n  flushCompletedChunks(request);\n}\n\n// This file intentionally does *not* have the Flow annotation.\n// Don't add it. See `./inline-typed.js` for an explanation.\n\nfunction createDrainHandler(destination, request) {\n  return function () {\n    return startFlowing(request, 0);\n  };\n}\n\nfunction pipeToNodeWritable(children, destination) {\n  var request = createRequest(children, destination);\n  destination.on('drain', createDrainHandler(destination, request));\n  startWork(request);\n}\n\nvar ReactDOMFizzServerNode = {\n  pipeToNodeWritable: pipeToNodeWritable\n};\n\nvar ReactDOMFizzServerNode$1 = Object.freeze({\n\tdefault: ReactDOMFizzServerNode\n});\n\nvar ReactDOMFizzServerNode$2 = ( ReactDOMFizzServerNode$1 && ReactDOMFizzServerNode ) || ReactDOMFizzServerNode$1;\n\n// TODO: decide on the top-level export form.\n// This is hacky but makes it work with both Rollup and Jest\nvar unstableFizz_node = ReactDOMFizzServerNode$2.default || ReactDOMFizzServerNode$2;\n\nmodule.exports = unstableFizz_node;\n  })();\n}\n"]}